<!DOCTYPE html>
<html><head><title>Code</title></head><body><style>* {font-family: monospace; }.comment {color: gray;}.keyword {color: #C0A000;}.method {color: brown}.char {color: cornflowerblue}.string {color: cornflowerblue}.indent { padding-left: 0.3em }.operator {color: blue}.decorator {color: #CC9999}.number {color: cornflowerblue}.bracket {color: green}.magic_func {color: darkviolet}.builtin {color: darkviolet}</style><span class="keyword">from</span><span class="indent"> </span><span class="simple_code">argparse</span><span class="indent"> </span><span class="keyword">import</span><span class="indent"> </span><span class="simple_code">ArgumentParser</span><br><span class="keyword">import</span><span class="indent"> </span><span class="simple_code">os</span><br><br><span class="keyword">from</span><span class="indent"> </span><span class="simple_code">LanguageFormat</span><span class="indent"> </span><span class="keyword">import</span><span class="indent"> </span><span class="operator">*</span><br><span class="keyword">from</span><span class="indent"> </span><span class="simple_code">Rendering</span><span class="indent"> </span><span class="keyword">import</span><span class="indent"> </span><span class="simple_code">build_html</span><br><span class="keyword">from</span><span class="indent"> </span><span class="simple_code">Tokenizing</span><span class="indent"> </span><span class="keyword">import</span><span class="indent"> </span><span class="simple_code">tokenize</span><br><br><br><span class="simple_code">FORMATS</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="builtin">dict</span><span class="bracket">(</span><span class="bracket">)</span><br><span class="simple_code">STYLES</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="builtin">dict</span><span class="bracket">(</span><span class="bracket">)</span><br><br><br><span class="keyword">def</span><span class="indent"> </span><span class="method">get_cached</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">cache</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">ext</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="simple_code">lang</span><span class="indent"> </span><span class="keyword">not</span><span class="indent"> </span><span class="keyword">in</span><span class="indent"> </span><span class="simple_code">cache</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">path</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">join</span><span class="bracket">(</span><span class="string">&quot;..&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;{}.{}&quot;</span><span class="simple_code">.</span><span class="method">format</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">ext</span><span class="bracket">)</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">with</span><span class="indent"> </span><span class="builtin">open</span><span class="bracket">(</span><span class="simple_code">path</span><span class="bracket">)</span><span class="indent"> </span><span class="keyword">as</span><span class="indent"> </span><span class="simple_code">lang_file</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">value</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">lang_file</span><span class="simple_code">.</span><span class="method">read</span><span class="bracket">(</span><span class="bracket">)</span><span class="simple_code">.</span><span class="method">split</span><span class="bracket">(</span><span class="string">'\n'</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">cache</span><span class="bracket">[</span><span class="simple_code">lang</span><span class="bracket">]</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">value</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">return</span><span class="indent"> </span><span class="simple_code">value</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">else</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">return</span><span class="indent"> </span><span class="simple_code">cache</span><span class="bracket">[</span><span class="simple_code">lang</span><span class="bracket">]</span><br><br><br><span class="keyword">def</span><span class="indent"> </span><span class="method">get_format_rules</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">try</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">return</span><span class="indent"> </span><span class="method">get_cached</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">FORMATS</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;hig&quot;</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">except</span><span class="indent"> </span><span class="simple_code">Exception</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">raise</span><span class="indent"> </span><span class="method">Exception</span><span class="bracket">(</span><span class="string">&quot;Could not load format file for &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;extension {}&quot;</span><span class="simple_code">.</span><span class="method">format</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="bracket">)</span><span class="bracket">)</span><br><br><br><span class="keyword">def</span><span class="indent"> </span><span class="method">get_css_style</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">try</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">return</span><span class="indent"> </span><span class="method">get_cached</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">STYLES</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;css&quot;</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">except</span><span class="indent"> </span><span class="simple_code">Exception</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">raise</span><span class="indent"> </span><span class="method">Exception</span><span class="bracket">(</span><span class="string">&quot;Could not load style file for &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;extension {}&quot;</span><span class="simple_code">.</span><span class="method">format</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="bracket">)</span><span class="bracket">)</span><br><br><br><span class="keyword">def</span><span class="indent"> </span><span class="method">get_html_name</span><span class="bracket">(</span><span class="simple_code">name</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">name</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">ext</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">splitext</span><span class="bracket">(</span><span class="simple_code">name</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">return</span><span class="indent"> </span><span class="string">&quot;{}.html&quot;</span><span class="simple_code">.</span><span class="method">format</span><span class="bracket">(</span><span class="simple_code">name</span><span class="bracket">)</span><br><br><br><span class="keyword">def</span><span class="indent"> </span><span class="method">render_to_html</span><span class="bracket">(</span><span class="simple_code">code</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">rules</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">style</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">language_format</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">LanguageFormat</span><span class="simple_code">.</span><span class="method">create_from_lines</span><span class="bracket">(</span><span class="simple_code">rules</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">reg_exs</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">language_format</span><span class="simple_code">.</span><span class="method">get_reg_exs</span><span class="bracket">(</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">tokens</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="method">tokenize</span><span class="bracket">(</span><span class="simple_code">code</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">reg_exs</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">return</span><span class="indent"> </span><span class="method">build_html</span><span class="bracket">(</span><span class="simple_code">tokens</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">style</span><span class="bracket">)</span><br><br><br><span class="keyword">def</span><span class="indent"> </span><span class="method">render_file</span><span class="bracket">(</span><span class="simple_code">input_file</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">output_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">output_name</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">quiet</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">lang</span><span class="simple_code">=</span><span class="keyword">None</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">try</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">name</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">ext</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">splitext</span><span class="bracket">(</span><span class="simple_code">input_file</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="simple_code">lang</span><span class="indent"> </span><span class="keyword">is</span><span class="indent"> </span><span class="keyword">None</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">lang</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">ext</span><span class="bracket">[</span><span class="number">1:</span><span class="bracket">]</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">rules</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="method">get_format_rules</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">style</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="method">get_css_style</span><span class="bracket">(</span><span class="simple_code">lang</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">with</span><span class="indent"> </span><span class="builtin">open</span><span class="bracket">(</span><span class="simple_code">input_file</span><span class="bracket">)</span><span class="indent"> </span><span class="keyword">as</span><span class="indent"> </span><span class="simple_code">code_file</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">code</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">code_file</span><span class="simple_code">.</span><span class="method">read</span><span class="bracket">(</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">rendered_html</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="method">render_to_html</span><span class="bracket">(</span><span class="simple_code">code</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">rules</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">style</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="simple_code">output_dir</span><span class="indent"> </span><span class="keyword">and</span><span class="indent"> </span><span class="keyword">not</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">exists</span><span class="bracket">(</span><span class="simple_code">output_dir</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="method">mkdir</span><span class="bracket">(</span><span class="simple_code">output_dir</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">with</span><span class="indent"> </span><span class="builtin">open</span><span class="bracket">(</span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">join</span><span class="bracket">(</span><span class="simple_code">output_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">output_name</span><span class="bracket">)</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;w+&quot;</span><span class="bracket">)</span><span class="indent"> </span><span class="keyword">as</span><span class="indent"> </span><span class="simple_code">out_file</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">out_file</span><span class="simple_code">.</span><span class="method">write</span><span class="bracket">(</span><span class="simple_code">rendered_html</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">except</span><span class="indent"> </span><span class="simple_code">Exception</span><span class="indent"> </span><span class="keyword">as</span><span class="indent"> </span><span class="simple_code">e</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="keyword">not</span><span class="indent"> </span><span class="simple_code">quiet</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="builtin">print</span><span class="bracket">(</span><span class="string">&quot;Could not render file {}&quot;</span><span class="simple_code">.</span><span class="method">format</span><span class="bracket">(</span><span class="simple_code">input_file</span><span class="bracket">)</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="builtin">print</span><span class="bracket">(</span><span class="simple_code">e</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="builtin">print</span><span class="bracket">(</span><span class="bracket">)</span><br><br><br><span class="keyword">def</span><span class="indent"> </span><span class="method">render_directory</span><span class="bracket">(</span><span class="simple_code">input_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">output_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">lang</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">current_dir</span><span class="simple_code">,</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">file_names</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">quiet</span><span class="simple_code">=</span><span class="keyword">False</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">relative_path</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">relpath</span><span class="bracket">(</span><span class="simple_code">current_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">input_dir</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">for</span><span class="indent"> </span><span class="simple_code">file_name</span><span class="indent"> </span><span class="keyword">in</span><span class="indent"> </span><span class="simple_code">file_names</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">input_file</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">join</span><span class="bracket">(</span><span class="simple_code">current_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">file_name</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">output_path</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">output_dir</span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="simple_code">relative_path</span><span class="indent"> </span><span class="operator">==</span><span class="indent"> </span><span class="string">'.'</span><span class="indent"> </span><span class="simple_code">\</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">else</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">join</span><span class="bracket">(</span><span class="simple_code">output_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">relative_path</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="method">render_file</span><span class="bracket">(</span><span class="simple_code">input_file</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">output_path</span><span class="simple_code">,</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="method">get_html_name</span><span class="bracket">(</span><span class="simple_code">file_name</span><span class="bracket">)</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">quiet</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">lang</span><span class="bracket">)</span><br><br><br><span class="keyword">def</span><span class="indent"> </span><span class="method">main</span><span class="bracket">(</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">arg_parser</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="method">ArgumentParser</span><span class="bracket">(</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">arg_parser</span><span class="simple_code">.</span><span class="method">add_argument</span><span class="bracket">(</span><span class="string">&quot;-l&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;--lang&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">default</span><span class="simple_code">=</span><span class="keyword">None</span><span class="simple_code">,</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">help</span><span class="simple_code">=</span><span class="string">&quot;Language of code.\n&quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;Parsing rules file &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;should be at &lt;lang&gt;.hig.\n&quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;Css style file should be at &lt;lang&gt;.css.\n&quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;If not specified - language will be defined &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;by code file extension.&quot;</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">arg_parser</span><span class="simple_code">.</span><span class="method">add_argument</span><span class="bracket">(</span><span class="string">&quot;-i&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;--input_location&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">required</span><span class="simple_code">=</span><span class="keyword">True</span><span class="simple_code">,</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">help</span><span class="simple_code">=</span><span class="string">&quot;File or directory with code to highlight.&quot;</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">arg_parser</span><span class="simple_code">.</span><span class="method">add_argument</span><span class="bracket">(</span><span class="string">&quot;-o&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;--output_location&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">default</span><span class="simple_code">=</span><span class="keyword">None</span><span class="simple_code">,</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">help</span><span class="simple_code">=</span><span class="string">&quot;File or directory for html files.\n&quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;If not specified file - result will be at &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;the same directory at file with the &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;same name and extension html.\n&quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;If not specified directory - result &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;directory will be at near input &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;directory with name 'result'&quot;</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">arg_parser</span><span class="simple_code">.</span><span class="method">add_argument</span><span class="bracket">(</span><span class="string">&quot;-q&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;--quiet&quot;</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">action</span><span class="simple_code">=</span><span class="string">'store_true'</span><span class="simple_code">,</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">help</span><span class="simple_code">=</span><span class="string">&quot;If this flag is not set - about every file &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;that program failed to parse it will &quot;</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="string">&quot;report in standard output.\n&quot;</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">args</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">arg_parser</span><span class="simple_code">.</span><span class="method">parse_args</span><span class="bracket">(</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">input_location</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">abspath</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">input_location</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">in_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">in_file</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">split</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">input_location</span><span class="bracket">)</span><br><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">isfile</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">input_location</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">output_location</span><span class="indent"> </span><span class="keyword">is</span><span class="indent"> </span><span class="keyword">not</span><span class="indent"> </span><span class="keyword">None</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">out_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">out_file</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">split</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">output_location</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">else</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">out_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">out_file</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">in_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="method">get_html_name</span><span class="bracket">(</span><span class="simple_code">in_file</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="method">render_file</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">input_location</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">out_dir</span><span class="simple_code">,</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">out_file</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">quiet</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">lang</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">else</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">output_location</span><span class="indent"> </span><span class="keyword">is</span><span class="indent"> </span><span class="keyword">None</span><span class="operator">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">output_location</span><span class="indent"> </span><span class="simple_code">=</span><span class="indent"> </span><span class="simple_code">\</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">join</span><span class="bracket">(</span><span class="simple_code">in_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="string">&quot;{}_result&quot;</span><span class="simple_code">.</span><span class="method">format</span><span class="bracket">(</span><span class="simple_code">in_file</span><span class="bracket">)</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">if</span><span class="indent"> </span><span class="keyword">not</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="simple_code">path</span><span class="simple_code">.</span><span class="method">exists</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">output_location</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="method">mkdir</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">output_location</span><span class="bracket">)</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="keyword">for</span><span class="indent"> </span><span class="simple_code">cur_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">ignore</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">file_names</span><span class="indent"> </span><span class="keyword">in</span><span class="indent"> </span><span class="simple_code">os</span><span class="simple_code">.</span><span class="method">walk</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">input_location</span><span class="bracket">)</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="method">render_directory</span><span class="bracket">(</span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">input_location</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">output_location</span><span class="simple_code">,</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">lang</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">cur_dir</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">file_names</span><span class="simple_code">,</span><span class="indent"> </span><span class="simple_code">args</span><span class="simple_code">.</span><span class="simple_code">quiet</span><span class="bracket">)</span><br><br><span class="keyword">if</span><span class="indent"> </span><span class="simple_code">__name__</span><span class="indent"> </span><span class="operator">==</span><span class="indent"> </span><span class="string">&quot;__main__&quot;</span><span class="simple_code">:</span><br><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="indent"> </span><span class="method">main</span><span class="bracket">(</span><span class="bracket">)</span><br></body></html>